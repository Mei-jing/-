<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>页面的内容与url同步更新，但页面不重新加载</title>
</head>
<body>
  <header>头部</header>

  <div>
    <ul>
      <li><a href="/001">001</a></li>
      <li><a href="/002">002</a></li>
      <li><a href="/003">003</a></li>
    </ul>

    <div class="content">
      主页
    </div>
  </div>

  <footer>页脚</footer>

</body>

<script>
  var ul = document.querySelector('ul')
  var content = document.querySelector('.content')

  ul.addEventListener('click', e => {
    e.preventDefault()
    location.hash = e.target.getAttribute('href')
    content.innerHTML = e.target.innerHTML
  })

  window.addEventListener('hashchange', e => {
    var url = location.hash.slice(1)
    var c = url.slice(1)
    content.innerHTML = c
  })

  window.onload = e => {
    var url = location.hash.slice(1)
    var c = url.slice(1)
    content.innerHTML = c
  }



  // ul.addEventListener('click', e => {
  //   e.preventDefault()
  //   var url = e.target.href
  //   history.pushState(null, '001', url)
  //   content.innerHTML = e.target.innerHTML
  // })

  // window.addEventListener('popstate', e => {
  //   var url = location.href
  //   var path = location.pathname
  //   var c = path.slice(1)
  //   content.innerHTML = c
  // })
</script>
</html>
